<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>关于我们</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="format-detection" content="telephone=no" />
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
	<link href="css/base.css" type="text/css" rel="stylesheet" />
	<link href="css/about_more.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" src="js/jquery-1.9.0.min.js"></script>
	<script type="text/javascript" src="js/functions.js"></script>
	<script type="text/javascript" src="js/config.js"></script>
    <style>
        body{
            
            width:100%;
            height:100%
        }
        .par{
            position:relative;
            width:300px;
            height:40px;
            background-color:gray;
            margin:250px;
            cursor:pointer;
            overflow:hidden;
        }
        .tags{
            position:absolute;
            width:20px;
            height:40px;
            text-align:center;
            background-color:#ff4c4c;
            top:0;
            left:0;
            cursor:move;
        }
    </style>
</head>
<body style="background-color:#f6f6f6;">
    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10</li>
    </ul>
    <div class="par">
        <div class="tags">
            move
        </div>
    </div>
    
    <script>
        var list = document.getElementsByTagName('li');
        var length = list.length;
        for(var i=0;i<length;i++){
            list[i].onclick = (function(a){
                return function(){
                    console.log(a)
                }
            })(i)
        }
        var oDiv = document.getElementsByClassName('tags')[0];
        oDiv.onmousedown = function(ev){
            var ev = ev || event;
            var mouseDownX = ev.clientX;
            var mouseDownY = ev.clientY;           
            var L0 = this.offsetLeft;
            var R0 = this.offsetLeft + this.offsetWidth;
            var W = this.offsetWidth;
            if(oDiv.setCapture){
                oDiv.setCapture();
            }
            var p0 = document.getElementsByClassName('par')[0];
            document.onmousemove = function(ev){
                var ev = ev || event;
                var mouseMoveX = ev.clientX;
                var mouseMoveY = ev.clientY;
                oDiv.style.left = (ev.clientX-p0.offsetLeft)+'px';
                if((ev.clientX-p0.offsetLeft)>=(p0.offsetWidth-W)){
                    oDiv.style.left = (p0.offsetWidth-W)+'px'
                    document.onmousemove=null;
                    return false;
                }
                if(mouseMoveX<p0.offsetLeft){
                      oDiv.style.left = '0'
                }
            }
            document.onmouseup = function(){
                document.onmousemove = null;
                // 释放全局捕获
                if(oDiv.releaseCapture){
                    oDiv.releaseCapture();
                }
                if(oDiv.style.left.replace(/[a-z]/g,'')<(p0.offsetWidth-W)){
                    oDiv.style.left = 0;
                }
            }
            return false;
        }
    </script>
    
</body>

</html>
